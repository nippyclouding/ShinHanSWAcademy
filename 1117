1117 MON

복습
- sql : DBMS와 통신하기 위한 언어

RDBMS : oracle, mysql, mariadb, my-sql, postgreSQL, DB2, Tibero ..
업무형 데이터, 정형 데이터

NoSQL : Not only sql, MongoDB (Json), Redis(key-value), elastic search .. 

DQL : select (Q : query - 질의, 요청)
DML : 조작 insert, update, delect (db 입장에서는 변경)
DDL : create, alter, drop (테이블 등의 객체 생성, 변경, 삭제 ..)
DCL : 권한 부여, 회수
TCL : 트랜잭션 관련, commit, rollback

insert into 테이블명 (컬럼명 .. ) values (값 .. ) // 값의 개수가 컬럼명 개수와 같다면 컬럼명 생략 가능
update 테이블명 set 컬럼명 = 값 where 조건식
delete from 테이블명 where 조건식

select (조회)
반드시 먼저 고민
- 요구 사항 파악
1. 어디서 가져올 것인지
2. 어떻게 가져올 것인지
3. 무엇을 가져올 것인지

select 컬럼명
from 테이블
where 조건식
group by 컬럼명
having 조건식 (group by 후 조건)
order by 컬럼명

값이 null 일때 다른 값으로 대체 : nvl, nvl2 함수 // 컬럼값 is null 로 null인지 확인 가능
like 연산 : 텍스트 포함 여부 (%, _)
in : 컬럼값 in (값1, 값2 ..) -> 값이 포함되어있다면 true, 없다면 false // 반대 : not in

union : select 결과를 수직으로 합친다. (중복 제외) // union all : 중복 포함

단일행 함수 : 1개 입력, 1개 출력
문자열 - upper, lower, replace, substr
숫자 - round.trunc
타입 - to_date, to_char, to_number
조건 - deconde, case

다중행 함수 : 1개 이상 입력, 1개 출력
집계함수, 그룹핑 함수
sum, count, avg, min, max ..
null 제외 후 연산

group by : 그룹핑 // 그룹핑 후 출력 열(select)은 그룹핑한 열 또는 그룹핑 함수

정렬 : asc 오름차순 desc 내림차순
group by, order by : 여러 열 지정 가능

실행 순서 : from -> where -> group by -> having -> select -> order by

조인 - 1개 이상의 테이블을 연결하여 수평으로 조회
cross join : 가능한 모든 경우의 수 조인 (행 * 행)
equi join : 등가 조인, 조건이 일치하는 결과
non - equi join : 비등가 조인, 등가 조인이 아닌 조인
outer join : 양쪽 테이블 중 특정 기준으로 조회
self join : 자신 테이블 조인

등가조인 (내부 조인) - inner join
외부 조인 - outer join

조인 조건 : 부모 / 자식 테이블
관계
1:1 일대일 회원 - 프로필
1:N 일대다 회원 - 주문
N:M 다대다 상품 - 주문

내부 조인
from 테이블 1, 테이블 2
where 테이블1. 컬럼명 = 테이블2. 컬럼명

from 테이블 1 join 테이블 2
on 테이블1.컬럼명 = 테이블2.컬럼명

외부조인
from 테이블1, 테이블2
where 테이블1. 컬럼명 = 테이블2.컬럼명(+) // 반대쪽에 +

from 테이블1 left join 테이블2 
on 테이블1.컬럼명 = 테이블2.컬럼명

서브쿼리 : 쿼리 속 쿼리, select 속 select 
단일행 서브쿼리 : 1개 출력
다중행 서브쿼리 : 1개 이상 출력

서브쿼리 사용 가능 위치
- from 절 (inline view)
- where 절
- having 절
- 컬럼 (스칼라 서브쿼리)

